{"ast":null,"code":"import React, { useState, useEffect } from 'react';\nimport { getInformationKor } from '../getDataFromSoldOut/getInformationKor';\nimport { getData } from '../getDataFromSNKRDUNK/getDataJp';\nimport { getSizeAndSkuFromKream } from '../getDataFromKream/getSizeAndSku';\nimport { getSalesHistory, getSalesHistoryKream } from '../getDataFromKream/getSalesHistoryKream';\nimport { getSalesHistorySNKRDUNK } from '../getDataFromSNKRDUNK/getSalesHistorySNKRDUNK';\nimport { getSalesHistorySoldOut } from '../getDataFromSoldOut/getSalesHistorySoldOut';\nconst VND = new Intl.NumberFormat('vi-VN', {\n  style: 'currency',\n  currency: 'VND'\n});\nfunction merge(data1, data2, data3) {\n  const data = data1.map(item1 => {\n    let data = {};\n    data2.forEach(item2 => {\n      if (item1.size == item2.size) {\n        data3.forEach(item3 => {\n          if (item1.size == item3.size) {\n            data = {\n              size: item1.size,\n              priceSoldOut: VND.format(Math.floor(item1.price)),\n              priceJp: VND.format(Math.floor(item2.price)),\n              priceKream: VND.format(Math.floor(item3.price))\n            };\n          }\n        });\n      }\n    });\n    return data;\n  });\n  return data;\n}\nexport const mergeData = async (submitCode = '') => {\n  const dataKor = await getInformationKor(submitCode);\n  const dataJp = await getData(submitCode);\n  const dataKream = await getSizeAndSkuFromKream(submitCode);\n  const dataHistorySNKRDUNK = await getSalesHistorySNKRDUNK(submitCode);\n  const dataHistorySoldOut = await getSalesHistorySoldOut();\n  let data;\n  if (dataKor && dataJp) {\n    data = merge(dataKor.price, dataJp.price, dataKream);\n  }\n  const result = {\n    code: !!dataKor ? dataKor.code : null,\n    img: !!dataKor ? dataKor.img : null,\n    name: !!dataKor ? dataKor.name_eng : null,\n    price: !!dataKor ? data : null\n  };\n  return result;\n};","map":{"version":3,"names":["React","useState","useEffect","getInformationKor","getData","getSizeAndSkuFromKream","getSalesHistory","getSalesHistoryKream","getSalesHistorySNKRDUNK","getSalesHistorySoldOut","VND","Intl","NumberFormat","style","currency","merge","data1","data2","data3","data","map","item1","forEach","item2","size","item3","priceSoldOut","format","Math","floor","price","priceJp","priceKream","mergeData","submitCode","dataKor","dataJp","dataKream","dataHistorySNKRDUNK","dataHistorySoldOut","result","code","img","name","name_eng"],"sources":["/Users/doandinhan/Documents/workspace/getDataSNKRDUNK/getdata/src/mergeData/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { getInformationKor } from '../getDataFromSoldOut/getInformationKor'\nimport { getData } from '../getDataFromSNKRDUNK/getDataJp'\nimport { getSizeAndSkuFromKream } from '../getDataFromKream/getSizeAndSku';\nimport { getSalesHistory, getSalesHistoryKream } from '../getDataFromKream/getSalesHistoryKream';\nimport { getSalesHistorySNKRDUNK } from '../getDataFromSNKRDUNK/getSalesHistorySNKRDUNK';\nimport { getSalesHistorySoldOut } from '../getDataFromSoldOut/getSalesHistorySoldOut';\n\nconst VND = new Intl.NumberFormat('vi-VN', {\n    style: 'currency',\n    currency: 'VND',\n  });\nfunction merge (data1, data2, data3) {\n    const data = data1.map(\n        (item1) => {\n            let data = {}\n            data2.forEach(\n                item2 => {\n                    if (item1.size == item2.size) {\n                        data3.forEach(\n                            item3 => {\n                                if(item1.size == item3.size) {\n                                    data = {\n                                        size: item1.size,\n                                        priceSoldOut: VND.format(Math.floor(item1.price)),\n                                        priceJp: VND.format(Math.floor(item2.price)),\n                                        priceKream: VND.format(Math.floor(item3.price))\n                                    }\n                                }\n                            }\n                        )\n                    }\n                }\n            )\n            return data\n        }\n    )\n    return data\n}\n\nexport const mergeData = async (submitCode = '') => {\n    \n    const dataKor = await getInformationKor(submitCode)\n    const dataJp = await getData(submitCode);\n    const dataKream = await getSizeAndSkuFromKream(submitCode)\n    const dataHistorySNKRDUNK = await getSalesHistorySNKRDUNK(submitCode)\n    const dataHistorySoldOut = await getSalesHistorySoldOut()\n    let data\n    if (dataKor && dataJp) {\n        data = merge(dataKor.price,dataJp.price, dataKream)\n        \n    }\n    const result = {\n        code: !!dataKor ? dataKor.code : null,\n        img: !!dataKor ? dataKor.img : null,\n        name: !!dataKor ? dataKor.name_eng : null,\n        price: !!dataKor ? data : null\n    }\n    return result\n}"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,iBAAiB,QAAQ,yCAAyC;AAC3E,SAASC,OAAO,QAAQ,kCAAkC;AAC1D,SAASC,sBAAsB,QAAQ,mCAAmC;AAC1E,SAASC,eAAe,EAAEC,oBAAoB,QAAQ,0CAA0C;AAChG,SAASC,uBAAuB,QAAQ,gDAAgD;AACxF,SAASC,sBAAsB,QAAQ,8CAA8C;AAErF,MAAMC,GAAG,GAAG,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,EAAE;EACvCC,KAAK,EAAE,UAAU;EACjBC,QAAQ,EAAE;AACZ,CAAC,CAAC;AACJ,SAASC,KAAKA,CAAEC,KAAK,EAAEC,KAAK,EAAEC,KAAK,EAAE;EACjC,MAAMC,IAAI,GAAGH,KAAK,CAACI,GAAG,CACjBC,KAAK,IAAK;IACP,IAAIF,IAAI,GAAG,CAAC,CAAC;IACbF,KAAK,CAACK,OAAO,CACTC,KAAK,IAAI;MACL,IAAIF,KAAK,CAACG,IAAI,IAAID,KAAK,CAACC,IAAI,EAAE;QAC1BN,KAAK,CAACI,OAAO,CACTG,KAAK,IAAI;UACL,IAAGJ,KAAK,CAACG,IAAI,IAAIC,KAAK,CAACD,IAAI,EAAE;YACzBL,IAAI,GAAG;cACHK,IAAI,EAAEH,KAAK,CAACG,IAAI;cAChBE,YAAY,EAAEhB,GAAG,CAACiB,MAAM,CAACC,IAAI,CAACC,KAAK,CAACR,KAAK,CAACS,KAAK,CAAC,CAAC;cACjDC,OAAO,EAAErB,GAAG,CAACiB,MAAM,CAACC,IAAI,CAACC,KAAK,CAACN,KAAK,CAACO,KAAK,CAAC,CAAC;cAC5CE,UAAU,EAAEtB,GAAG,CAACiB,MAAM,CAACC,IAAI,CAACC,KAAK,CAACJ,KAAK,CAACK,KAAK,CAAC;YAClD,CAAC;UACL;QACJ,CACJ,CAAC;MACL;IACJ,CACJ,CAAC;IACD,OAAOX,IAAI;EACf,CACJ,CAAC;EACD,OAAOA,IAAI;AACf;AAEA,OAAO,MAAMc,SAAS,GAAG,MAAAA,CAAOC,UAAU,GAAG,EAAE,KAAK;EAEhD,MAAMC,OAAO,GAAG,MAAMhC,iBAAiB,CAAC+B,UAAU,CAAC;EACnD,MAAME,MAAM,GAAG,MAAMhC,OAAO,CAAC8B,UAAU,CAAC;EACxC,MAAMG,SAAS,GAAG,MAAMhC,sBAAsB,CAAC6B,UAAU,CAAC;EAC1D,MAAMI,mBAAmB,GAAG,MAAM9B,uBAAuB,CAAC0B,UAAU,CAAC;EACrE,MAAMK,kBAAkB,GAAG,MAAM9B,sBAAsB,CAAC,CAAC;EACzD,IAAIU,IAAI;EACR,IAAIgB,OAAO,IAAIC,MAAM,EAAE;IACnBjB,IAAI,GAAGJ,KAAK,CAACoB,OAAO,CAACL,KAAK,EAACM,MAAM,CAACN,KAAK,EAAEO,SAAS,CAAC;EAEvD;EACA,MAAMG,MAAM,GAAG;IACXC,IAAI,EAAE,CAAC,CAACN,OAAO,GAAGA,OAAO,CAACM,IAAI,GAAG,IAAI;IACrCC,GAAG,EAAE,CAAC,CAACP,OAAO,GAAGA,OAAO,CAACO,GAAG,GAAG,IAAI;IACnCC,IAAI,EAAE,CAAC,CAACR,OAAO,GAAGA,OAAO,CAACS,QAAQ,GAAG,IAAI;IACzCd,KAAK,EAAE,CAAC,CAACK,OAAO,GAAGhB,IAAI,GAAG;EAC9B,CAAC;EACD,OAAOqB,MAAM;AACjB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}