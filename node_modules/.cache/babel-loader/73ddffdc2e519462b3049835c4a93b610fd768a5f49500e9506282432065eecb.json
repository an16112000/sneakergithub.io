{"ast":null,"code":"var _jsxFileName = \"/Users/doandinhan/Documents/workspace/getDataSNKRDUNK/getdata/src/DataMenu/getDataMenu.js\";\nimport { VND } from \"../changeCurrency/changeCurrency\";\nimport { getRateJp, getRateKor } from \"../rate\";\nimport { instance, instanceKream } from \"../services\";\nimport { getIdProductKream } from \"../getDataFromKream/getIdProductKream\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const getDataMenu = async (type, page) => {\n  const response = await instance.get(`https://www.soldout.co.kr/api/v3/search/get-item-list?&typeGb=goods&pageIndex=${page}&pageSize=12&keyword=${type}`);\n  const rateKor = await getRateKor();\n  const rateJp = await getRateJp();\n  const data = response.data.data.product_info.list.map(item => {\n    for (let i = 0; i < item.model_no.length; i++) {\n      if (item.model_no[i] == ' ' || item.model_no[i] == '/') {\n        item.model_no = item.model_no.slice(0, -item.model_no.length + i);\n      }\n    }\n    // const responseJP = await instance.get(`https://snkrdunk.com/v1/products/CW2288-111/sales-history?`)\n    // console.log(responseJP)\n    /*#__PURE__*/_jsxDEV(Image, {\n      sr: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 13\n    }, this);\n    return {\n      code: item.model_no,\n      type: item.brand_name_eng,\n      min_priceSoldOut: VND.format(Math.floor(item.min_price * rateKor)),\n      name: item.name_eng,\n      img: 'https://kream-phinf.pstatic.net/MjAyMzA3MjZfOTkg/MDAxNjkwMzM1OTAwMjkz.RXuQ8M7PrHUX1k1HvKUlyq9bifTEJLSBJ-EncInPub4g.r3fXPJvYOFyh98ARfA181aUpJyfnEW06j3ajU0kgo24g.PNG/a_efed3f6145c34b88877d98b09cb5dc64.png'\n    };\n  });\n  const arrKor = [];\n  for (let i = 0; i < data.length; i++) {\n    const result = await data[i];\n    arrKor.push(result);\n  }\n  // for(let i=0; i<data.length; i++) {\n  //     arrKor[i] = {\n  //         ...arrKor[i],\n  //         a:1\n  //     }\n  // }\n\n  for (let i = 0; i < arrKor.length; i++) {\n    try {\n      const responseJP = await instance.get(`https://snkrdunk.com/v1/products/${arrKor[i].code}/sales-history?`);\n      const kreamId = await getIdProductKream(arrKor[i].code);\n      const responseKream = await instanceKream.get(`https://kream.co.kr/api/p/products/${kreamId}?request_key=cadf87d7-7b0e-4f85-8bf3-9771608a29f5`);\n      console.log(responseKream);\n      console.log(arrKor[i], responseJP);\n      arrKor[i] = {\n        ...arrKor[i],\n        min_priceJp: VND.format(Math.floor(responseJP.data.minPrice * rateJp)),\n        min_priceKream: VND.format(Math.floor(responseKream.data.market.lowest_ask * rateKor))\n      };\n    } catch (msg) {\n      return arrKor[i];\n    }\n  }\n  console.log(arrKor);\n  return arrKor;\n};","map":{"version":3,"names":["VND","getRateJp","getRateKor","instance","instanceKream","getIdProductKream","jsxDEV","_jsxDEV","getDataMenu","type","page","response","get","rateKor","rateJp","data","product_info","list","map","item","i","model_no","length","slice","Image","sr","fileName","_jsxFileName","lineNumber","columnNumber","code","brand_name_eng","min_priceSoldOut","format","Math","floor","min_price","name","name_eng","img","arrKor","result","push","responseJP","kreamId","responseKream","console","log","min_priceJp","minPrice","min_priceKream","market","lowest_ask","msg"],"sources":["/Users/doandinhan/Documents/workspace/getDataSNKRDUNK/getdata/src/DataMenu/getDataMenu.js"],"sourcesContent":["import { VND } from \"../changeCurrency/changeCurrency\";\nimport { getRateJp, getRateKor } from \"../rate\"\nimport { instance, instanceKream } from \"../services\"\nimport { getIdProductKream } from \"../getDataFromKream/getIdProductKream\";\n\nexport const getDataMenu = async (type, page) => {\n    const response = await instance.get(`https://www.soldout.co.kr/api/v3/search/get-item-list?&typeGb=goods&pageIndex=${page}&pageSize=12&keyword=${type}`)\n    const rateKor = await getRateKor();\n    const rateJp = await getRateJp();\n    const data = response.data.data.product_info.list.map(\n        (item) => {\n            for (let i = 0; i < item.model_no.length; i++) {\n                if (item.model_no[i] == ' ' || item.model_no[i] == '/') {\n                    item.model_no = item.model_no.slice(0, -item.model_no.length + i)\n                }\n            }\n            // const responseJP = await instance.get(`https://snkrdunk.com/v1/products/CW2288-111/sales-history?`)\n            // console.log(responseJP)\n            <Image sr />\n            return {\n                code: item.model_no,\n                type: item.brand_name_eng,\n                min_priceSoldOut: VND.format(Math.floor(item.min_price*rateKor)),\n                name: item.name_eng,\n                img: 'https://kream-phinf.pstatic.net/MjAyMzA3MjZfOTkg/MDAxNjkwMzM1OTAwMjkz.RXuQ8M7PrHUX1k1HvKUlyq9bifTEJLSBJ-EncInPub4g.r3fXPJvYOFyh98ARfA181aUpJyfnEW06j3ajU0kgo24g.PNG/a_efed3f6145c34b88877d98b09cb5dc64.png'\n            }\n\n        }\n    )\n    const arrKor = []\n    for(let i = 0; i<data.length;i++) {\n        const result = await data[i]\n        arrKor.push(result)\n    }\n    // for(let i=0; i<data.length; i++) {\n    //     arrKor[i] = {\n    //         ...arrKor[i],\n    //         a:1\n    //     }\n    // }\n\n    for(let i=0; i<arrKor.length; i++) {\n        try {\n            const responseJP = await instance.get(`https://snkrdunk.com/v1/products/${arrKor[i].code}/sales-history?`)\n            const kreamId = await getIdProductKream(arrKor[i].code)\n            const responseKream = await instanceKream.get(`https://kream.co.kr/api/p/products/${kreamId}?request_key=cadf87d7-7b0e-4f85-8bf3-9771608a29f5`)\n            console.log(responseKream)\n            console.log(arrKor[i], responseJP)\n            arrKor[i] = {\n                ...arrKor[i],\n                min_priceJp: VND.format(Math.floor(responseJP.data.minPrice*rateJp)),\n                min_priceKream: VND.format(Math.floor(responseKream.data.market.lowest_ask*rateKor))\n            }\n        } catch(msg) {\n            return arrKor[i]\n        }\n    }\n\n    console.log(arrKor)\n\n        \n\n\n    return arrKor\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}