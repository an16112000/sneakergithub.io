{"ast":null,"code":"import { VND } from \"../changeCurrency/changeCurrency\";\nimport { getRateKor } from \"../rate\";\nimport { instanceKream, instanceKreamWithToken } from \"../services\";\nimport { getIdProductKream } from \"./getIdProductKream\";\nexport const getSalesHistoryKream = async submitCode => {\n  try {\n    const id = await getIdProductKream(submitCode);\n    const response = await instanceKreamWithToken.get(`https://kream.co.kr/api/p/products/${id}/sales?cursor=1&per_page=50&sort=date_created[desc]&request_key=428133c9-cffe-44fd-8f39-e1b2f95b9a20`);\n    const rate = await getRateKor();\n    const data = response.data.items;\n    const arr = [];\n    for (let i = 0; i < 20; i++) {\n      arr.push({\n        size: parseInt(data[i].option),\n        price: VND.format(Math.floor(data[i].price * rate)),\n        date: data[i].date_created.replace('T', ' ').replace('Z', '')\n      });\n    }\n    return arr;\n  } catch (Error) {\n    return new Error('Get Api Kream: Fail!');\n  }\n};","map":{"version":3,"names":["VND","getRateKor","instanceKream","instanceKreamWithToken","getIdProductKream","getSalesHistoryKream","submitCode","id","response","get","rate","data","items","arr","i","push","size","parseInt","option","price","format","Math","floor","date","date_created","replace","Error"],"sources":["/Users/doandinhan/Documents/workspace/getDataSNKRDUNK/getdata/src/getDataFromKream/getSalesHistoryKream.js"],"sourcesContent":["import { VND } from \"../changeCurrency/changeCurrency\"\nimport { getRateKor } from \"../rate\"\nimport { instanceKream, instanceKreamWithToken } from \"../services\"\nimport { getIdProductKream } from \"./getIdProductKream\"\n\n\nexport const getSalesHistoryKream = async(submitCode) => {\n    try {\n        const id = await getIdProductKream(submitCode)\n        const response = await instanceKreamWithToken.get(`https://kream.co.kr/api/p/products/${id}/sales?cursor=1&per_page=50&sort=date_created[desc]&request_key=428133c9-cffe-44fd-8f39-e1b2f95b9a20`)\n        const rate = await getRateKor();\n        const data = response.data.items\n        const arr = [];\n        for (let i=0; i<20; i++) {\n            arr.push(\n                {\n                    size: parseInt(data[i].option),\n                    price: VND.format(Math.floor(data[i].price*rate)),\n                    date: data[i].date_created.replace('T', ' ').replace('Z', '')\n                }\n            )\n        }\n        return arr;\n    } catch(Error) {\n        return new Error('Get Api Kream: Fail!')\n    }\n}\n\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,kCAAkC;AACtD,SAASC,UAAU,QAAQ,SAAS;AACpC,SAASC,aAAa,EAAEC,sBAAsB,QAAQ,aAAa;AACnE,SAASC,iBAAiB,QAAQ,qBAAqB;AAGvD,OAAO,MAAMC,oBAAoB,GAAG,MAAMC,UAAU,IAAK;EACrD,IAAI;IACA,MAAMC,EAAE,GAAG,MAAMH,iBAAiB,CAACE,UAAU,CAAC;IAC9C,MAAME,QAAQ,GAAG,MAAML,sBAAsB,CAACM,GAAG,CAAE,sCAAqCF,EAAG,sGAAqG,CAAC;IACjM,MAAMG,IAAI,GAAG,MAAMT,UAAU,CAAC,CAAC;IAC/B,MAAMU,IAAI,GAAGH,QAAQ,CAACG,IAAI,CAACC,KAAK;IAChC,MAAMC,GAAG,GAAG,EAAE;IACd,KAAK,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAAC,EAAE,EAAEA,CAAC,EAAE,EAAE;MACrBD,GAAG,CAACE,IAAI,CACJ;QACIC,IAAI,EAAEC,QAAQ,CAACN,IAAI,CAACG,CAAC,CAAC,CAACI,MAAM,CAAC;QAC9BC,KAAK,EAAEnB,GAAG,CAACoB,MAAM,CAACC,IAAI,CAACC,KAAK,CAACX,IAAI,CAACG,CAAC,CAAC,CAACK,KAAK,GAACT,IAAI,CAAC,CAAC;QACjDa,IAAI,EAAEZ,IAAI,CAACG,CAAC,CAAC,CAACU,YAAY,CAACC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,GAAG,EAAE,EAAE;MAChE,CACJ,CAAC;IACL;IACA,OAAOZ,GAAG;EACd,CAAC,CAAC,OAAMa,KAAK,EAAE;IACX,OAAO,IAAIA,KAAK,CAAC,sBAAsB,CAAC;EAC5C;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}