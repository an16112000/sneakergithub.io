{"ast":null,"code":"import { VND } from \"../changeCurrency/changeCurrency\";\nimport { getRateJp, getRateKor } from \"../rate\";\nimport { instance, instanceKream } from \"../services\";\nimport { getIdProductKream } from \"../getDataFromKream/getIdProductKream\";\nexport const getDataMenu = async (type, page) => {\n  const response = await instanceKream.get(`https://kream.co.kr/api/p/tabs/all/?cursor=${page}&keyword=${type}&request_key=1bb11348-fcac-4b54-a7f7-c2832fb658e6`);\n  const rateKor = await getRateKor();\n  const rateJp = await getRateJp();\n  console.log(response);\n  const data = response.data.items.map(item => {\n    //         for (let i = 0; i < item.model_no.length; i++) {\n    //             if (item.model_no[i] == ' ' || item.model_no[i] == '/') {\n    //                 item.model_no = item.model_no.slice(0, -item.model_no.length + i)\n    //             }\n    //         }\n    // const responseJP = await instance.get(`https://snkrdunk.com/v1/products/CW2288-111/sales-history?`)\n    //         // console.log(responseJP)\n    const infor = item.product;\n    return {\n      code: infor.release.style_code,\n      type: infor.brand.name,\n      min_priceKream: VND.format(Math.floor(infor.market.lowest_ask * rateKor)),\n      name: infor.release.name\n      // img: infor.release.image_urls\n    };\n  });\n\n  console.log(data);\n  const arrKor = [];\n  for (let i = 0; i < data.length; i++) {\n    const result = await data[i];\n    arrKor.push(result);\n  }\n  // // for(let i=0; i<data.length; i++) {\n  // //     arrKor[i] = {\n  // //         ...arrKor[i],\n  // //         a:1\n  // //     }\n  // // }\n\n  for (let i = 0; i < arrKor.length; i++) {\n    // try {\n    const responseJP = await instance.get(`https://snkrdunk.com/v1/sneakers/${arrKor[i].code}/size/list`);\n    console.log(responseJP.data.data.sneaker);\n    //         const kreamId = await getIdProductKream(arrKor[i].code)\n    //         const responseKream = await instanceKream.get(`https://kream.co.kr/api/p/products/${kreamId}?request_key=cadf87d7-7b0e-4f85-8bf3-9771608a29f5`)\n    //         console.log(responseKream)\n    //         console.log(arrKor[i], responseJP)\n    arrKor[i] = {\n      ...arrKor[i],\n      min_priceJp: VND.format(Math.floor(responseJP.data.minPrice * rateJp)),\n      min_priceKream: VND.format(Math.floor(responseKream.data.market.lowest_ask * rateKor))\n    };\n    // } catch(msg) {\n    //     return arrKor[i]\n    // }\n  }\n\n  console.log(arrKor);\n  return data;\n};","map":{"version":3,"names":["VND","getRateJp","getRateKor","instance","instanceKream","getIdProductKream","getDataMenu","type","page","response","get","rateKor","rateJp","console","log","data","items","map","item","infor","product","code","release","style_code","brand","name","min_priceKream","format","Math","floor","market","lowest_ask","arrKor","i","length","result","push","responseJP","sneaker","min_priceJp","minPrice","responseKream"],"sources":["/Users/doandinhan/Documents/workspace/getDataSNKRDUNK/getdata/src/DataMenu/getDataMenu.js"],"sourcesContent":["import { VND } from \"../changeCurrency/changeCurrency\";\nimport { getRateJp, getRateKor } from \"../rate\"\nimport { instance, instanceKream } from \"../services\"\nimport { getIdProductKream } from \"../getDataFromKream/getIdProductKream\";\n\nexport const getDataMenu = async (type, page) => {\n    const response = await instanceKream.get(`https://kream.co.kr/api/p/tabs/all/?cursor=${page}&keyword=${type}&request_key=1bb11348-fcac-4b54-a7f7-c2832fb658e6`)\n    const rateKor = await getRateKor();\n    const rateJp = await getRateJp();\n    console.log(response)\n    const data = response.data.items.map(\n        (item) => {\n    //         for (let i = 0; i < item.model_no.length; i++) {\n    //             if (item.model_no[i] == ' ' || item.model_no[i] == '/') {\n    //                 item.model_no = item.model_no.slice(0, -item.model_no.length + i)\n    //             }\n    //         }\n            // const responseJP = await instance.get(`https://snkrdunk.com/v1/products/CW2288-111/sales-history?`)\n    //         // console.log(responseJP)\n    const infor = item.product\n            return {\n                code: infor.release.style_code,\n                type: infor.brand.name,\n                min_priceKream: VND.format(Math.floor(infor.market.lowest_ask*rateKor)),\n                name: infor.release.name,\n                // img: infor.release.image_urls\n            }\n\n        }\n    )\n    console.log(data)\n    const arrKor = []\n    for(let i = 0; i<data.length;i++) {\n        const result = await data[i]\n        arrKor.push(result)\n    }\n    // // for(let i=0; i<data.length; i++) {\n    // //     arrKor[i] = {\n    // //         ...arrKor[i],\n    // //         a:1\n    // //     }\n    // // }\n\n    for(let i=0; i<arrKor.length; i++) {\n        // try {\n            const responseJP = await instance.get(`https://snkrdunk.com/v1/sneakers/${arrKor[i].code}/size/list`)\n            console.log(responseJP.data.data.sneaker)\n    //         const kreamId = await getIdProductKream(arrKor[i].code)\n    //         const responseKream = await instanceKream.get(`https://kream.co.kr/api/p/products/${kreamId}?request_key=cadf87d7-7b0e-4f85-8bf3-9771608a29f5`)\n    //         console.log(responseKream)\n    //         console.log(arrKor[i], responseJP)\n            arrKor[i] = {\n                ...arrKor[i],\n                min_priceJp: VND.format(Math.floor(responseJP.data.minPrice*rateJp)),\n                min_priceKream: VND.format(Math.floor(responseKream.data.market.lowest_ask*rateKor))\n            }\n        // } catch(msg) {\n        //     return arrKor[i]\n        // }\n    }\n\n    console.log(arrKor)\n\n        \n\n\n    return data\n}"],"mappings":"AAAA,SAASA,GAAG,QAAQ,kCAAkC;AACtD,SAASC,SAAS,EAAEC,UAAU,QAAQ,SAAS;AAC/C,SAASC,QAAQ,EAAEC,aAAa,QAAQ,aAAa;AACrD,SAASC,iBAAiB,QAAQ,uCAAuC;AAEzE,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAOC,IAAI,EAAEC,IAAI,KAAK;EAC7C,MAAMC,QAAQ,GAAG,MAAML,aAAa,CAACM,GAAG,CAAE,8CAA6CF,IAAK,YAAWD,IAAK,mDAAkD,CAAC;EAC/J,MAAMI,OAAO,GAAG,MAAMT,UAAU,CAAC,CAAC;EAClC,MAAMU,MAAM,GAAG,MAAMX,SAAS,CAAC,CAAC;EAChCY,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC;EACrB,MAAMM,IAAI,GAAGN,QAAQ,CAACM,IAAI,CAACC,KAAK,CAACC,GAAG,CAC/BC,IAAI,IAAK;IACd;IACA;IACA;IACA;IACA;IACQ;IACR;IACA,MAAMC,KAAK,GAAGD,IAAI,CAACE,OAAO;IAClB,OAAO;MACHC,IAAI,EAAEF,KAAK,CAACG,OAAO,CAACC,UAAU;MAC9BhB,IAAI,EAAEY,KAAK,CAACK,KAAK,CAACC,IAAI;MACtBC,cAAc,EAAE1B,GAAG,CAAC2B,MAAM,CAACC,IAAI,CAACC,KAAK,CAACV,KAAK,CAACW,MAAM,CAACC,UAAU,GAACpB,OAAO,CAAC,CAAC;MACvEc,IAAI,EAAEN,KAAK,CAACG,OAAO,CAACG;MACpB;IACJ,CAAC;EAEL,CACJ,CAAC;;EACDZ,OAAO,CAACC,GAAG,CAACC,IAAI,CAAC;EACjB,MAAMiB,MAAM,GAAG,EAAE;EACjB,KAAI,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAClB,IAAI,CAACmB,MAAM,EAACD,CAAC,EAAE,EAAE;IAC9B,MAAME,MAAM,GAAG,MAAMpB,IAAI,CAACkB,CAAC,CAAC;IAC5BD,MAAM,CAACI,IAAI,CAACD,MAAM,CAAC;EACvB;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,KAAI,IAAIF,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACD,MAAM,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;IAC/B;IACI,MAAMI,UAAU,GAAG,MAAMlC,QAAQ,CAACO,GAAG,CAAE,oCAAmCsB,MAAM,CAACC,CAAC,CAAC,CAACZ,IAAK,YAAW,CAAC;IACrGR,OAAO,CAACC,GAAG,CAACuB,UAAU,CAACtB,IAAI,CAACA,IAAI,CAACuB,OAAO,CAAC;IACjD;IACA;IACA;IACA;IACQN,MAAM,CAACC,CAAC,CAAC,GAAG;MACR,GAAGD,MAAM,CAACC,CAAC,CAAC;MACZM,WAAW,EAAEvC,GAAG,CAAC2B,MAAM,CAACC,IAAI,CAACC,KAAK,CAACQ,UAAU,CAACtB,IAAI,CAACyB,QAAQ,GAAC5B,MAAM,CAAC,CAAC;MACpEc,cAAc,EAAE1B,GAAG,CAAC2B,MAAM,CAACC,IAAI,CAACC,KAAK,CAACY,aAAa,CAAC1B,IAAI,CAACe,MAAM,CAACC,UAAU,GAACpB,OAAO,CAAC;IACvF,CAAC;IACL;IACA;IACA;EACJ;;EAEAE,OAAO,CAACC,GAAG,CAACkB,MAAM,CAAC;EAKnB,OAAOjB,IAAI;AACf,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}